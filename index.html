<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Master Creative AI Suite</title>
    <!-- External Libraries -->
    <script src="https://unpkg.com/dexie@3/dist/dexie.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jszip/3.10.1/jszip.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.js"></script>
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/cropperjs/1.6.1/cropper.min.css">
    <script src="https://cdn.tailwindcss.com"></script>
    
    <!-- SCRIPT LOADER -->
    <script>
        const apiKey = ""; 
        window.SUITE_API_KEY = apiKey; // Make the key globally accessible
        window.getSuiteApiKey = () => apiKey;
        
        // --- Development & Versioning Control ---
        const USE_LATEST_BUILD = false; // Set to true for latest commit, false for specific version.
        const SUITE_VERSION = "55";    // The specific version to use when USE_LATEST_BUILD is false.
        window.SUITE_VERSION = SUITE_VERSION; // Make version globally accessible
        const repo = "cmo84/ai-suite@release";
        
        /**
         * Creates a versioned filename if not using the latest build.
         * e.g., 'main.js' becomes 'main.37.js'
         * @param {string} filename - The original filename.
         * @returns {string} The potentially versioned filename.
         */
        const getVersionedFilename = (filename) => {
            if (USE_LATEST_BUILD) return filename;
            const parts = filename.split('.');
            const extension = parts.pop();
            const name = parts.join('.');
            return `${name}.${SUITE_VERSION}.${extension}`;
        };
        window.getVersionedFilename = getVersionedFilename; // Make globally available for main.js

        const assetPath = USE_LATEST_BUILD 
            ? `https://cdn.jsdelivr.net/gh/${repo}/latest/` 
            : `https://cdn.jsdelivr.net/gh/${repo}/${SUITE_VERSION}/`;
        window.assetPath = assetPath;
        
        // Dynamically load the main bootstrap script with the correctly versioned filename
        const mainScript = document.createElement('script');
        mainScript.type = 'module';
        mainScript.src = `${assetPath}${getVersionedFilename('main.js')}`;
        document.head.appendChild(mainScript);
    </script>
</head>
<body class="bg-[#004e98] text-xs overflow-hidden p-0 m-0 overscroll-none">
    <!-- The application content will be injected here by main.js -->
</body>
</html>

